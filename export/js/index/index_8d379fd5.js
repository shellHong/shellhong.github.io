!function(){function e(){t(),n(),a(),o(),i(),u()}function t(){y=(window.innerWidth-I)/2,C=(window.innerHeight-300)/2,(m=new createjs.Stage("text")).canvas.width=I,m.canvas.height=T,(h=new createjs.Stage("stage")).canvas.width=window.innerWidth,h.canvas.height=window.innerHeight}function n(){(w=document.getElementById("form")).style.top=C+T+"px",w.style.left=y+"px",f=document.getElementById("inputText"),(p=document.getElementById("entrance")).style.top=C+"px",p.style.left=y+"px",p.style.width=I+"px",p.style.height=T+"px"}function a(){(M=new createjs.Text("t","80px 'Source Sans Pro'","#eee")).textAlign="center",M.x=300}function o(){g=[];for(var e=0;e<I;e++){var t=new createjs.Shape,n=window.innerWidth*Math.random(),a=window.innerHeight*Math.random(),o=E[Math.floor(e%E.length)],i=.2+.5*Math.random();t.alpha=i,t.radius=7,t.graphics.beginFill(o).drawCircle(0,0,7),t.x=n,t.y=a,g.push(t),h.addChild(t),t.movement="float",r(t)}}function i(){h.update(),requestAnimationFrame(i)}function r(e,t){e.tween&&e.tween.kill(),"in"==t?e.tween=TweenLite.to(e,.4,{x:e.originX,y:e.originY,ease:Quad.easeInOut,alpha:1,radius:5,scaleX:.4,scaleY:.4,onComplete:function(){e.movement="jiggle",r(e)}}):"out"==t?e.tween=TweenLite.to(e,.8,{x:window.innerWidth*Math.random(),y:window.innerHeight*Math.random(),ease:Quad.easeInOut,alpha:.2+.5*Math.random(),scaleX:1,scaleY:1,onComplete:function(){e.movement="float",r(e)}}):"float"==e.movement?e.tween=TweenLite.to(e,5+3.5*Math.random(),{x:e.x+-100+Math.random()*T,y:e.y+-100+Math.random()*T,ease:Quad.easeInOut,alpha:.2+.5*Math.random(),onComplete:function(){r(e)}}):e.tween=TweenLite.to(e,.05,{x:e.originX+3*Math.random(),y:e.originY+3*Math.random(),ease:Quad.easeInOut,onComplete:function(){r(e)}})}function l(){for(var e=0,t=v.length;e<t;e++)g[e].originX=y+v[e].x,g[e].originY=C+v[e].y,r(g[e],"in");if(x=!0,v.length<g.length)for(var n=v.length;n<g.length;n++)g[n].tween=TweenLite.to(g[n],.4,{alpha:.1})}function d(){for(var e=0,t=v.length;e<t;e++)r(g[e],"out");if(v.length<g.length)for(var n=v.length;n<g.length;n++)g[n].tween=TweenLite.to(g[n],.4,{alpha:1})}function u(){p.addEventListener("click",function(e){swal&&(swal({title:"",text:"",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"请输入授权码"},function(e){return!1!==e&&(""===e?(swal.showInputError("授权码不能为空"),!1):void(location.href=e.toLowerCase()+"/work_nav.html"))}),setTimeout(function(){document.querySelector(".sweet-alert input").setAttribute("type","password")},0))}),w.addEventListener("submit",function(e){e.preventDefault(),x?(d(),""!=f.value?setTimeout(function(){s(f.value.toUpperCase())},810):x=!1):s(f.value.toUpperCase())})}function s(e,t){var n=860/e.length;n>160&&(n=160),t&&(n=t),M.text=e,M.font="900 "+n+"px 'Source Sans Pro'",M.textAlign="center",M.x=I/2,M.y=(172-n)/2,m.addChild(M),m.update();var a=document.getElementById("text").getContext("2d").getImageData(0,0,I,T).data;v=[];for(var o=a.length;o>=0;o-=4)if(0!=a[o]){var i=o/4%I,r=Math.floor(Math.floor(o/I)/4);i&&i%8==0&&r&&r%8==0&&v.push({x:i,y:r})}l()}function c(){var e=document.createElement("script");e.setAttribute("src","./index/sweetalert_2f9966a6.js"),document.body.appendChild(e);var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("media","screen"),t.setAttribute("type","text/css"),t.setAttribute("href","./index/sweetalert_d8cc2607.css"),document.body.appendChild(t)}var h,m,w,f,p,g,v,x,y,C,M,E=["#B2949D","#FFF578","#FF5F8D","#37A9CC","#188EB2"],I=660,T=200;window.onload=function(){e();var t=3,n=setInterval(function(){t>0?(v&&d(),s(new String(t))):(d(),setTimeout(function(){s("WELCOME")},810),clearInterval(n)),t--},1e3);setTimeout(function(){c()},1e3)}}();