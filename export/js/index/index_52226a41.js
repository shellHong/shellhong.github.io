!function(){function e(){t(),n(),a(),o(),i(),d()}function t(){x=(window.innerWidth-I)/2,y=(window.innerHeight-300)/2,(g=new createjs.Stage("text")).canvas.width=I,g.canvas.height=T,(c=new createjs.Stage("stage")).canvas.width=window.innerWidth,c.canvas.height=window.innerHeight}function n(){(s=document.getElementById("form")).style.top=y+T+"px",s.style.left=x+"px",f=document.getElementById("inputText"),(w=document.getElementById("entrance")).style.top=y+"px",w.style.left=x+"px",w.style.width=I+"px",w.style.height=T+"px"}function a(){(M=new createjs.Text("t","80px 'Source Sans Pro'","#eee")).textAlign="center",M.x=300}function o(){m=[];for(var e=0;e<I;e++){var t=new createjs.Shape,n=window.innerWidth*Math.random(),a=window.innerHeight*Math.random(),o=C[Math.floor(e%C.length)],i=.2+.5*Math.random();t.alpha=i,t.radius=7,t.graphics.beginFill(o).drawCircle(0,0,7),t.x=n,t.y=a,m.push(t),c.addChild(t),t.movement="float",r(t)}}function i(){c.update(),requestAnimationFrame(i)}function r(e,t){e.tween&&e.tween.kill(),"in"==t?e.tween=TweenLite.to(e,.4,{x:e.originX,y:e.originY,ease:Quad.easeInOut,alpha:1,radius:5,scaleX:.4,scaleY:.4,onComplete:function(){e.movement="jiggle",r(e)}}):"out"==t?e.tween=TweenLite.to(e,.8,{x:window.innerWidth*Math.random(),y:window.innerHeight*Math.random(),ease:Quad.easeInOut,alpha:.2+.5*Math.random(),scaleX:1,scaleY:1,onComplete:function(){e.movement="float",r(e)}}):"float"==e.movement?e.tween=TweenLite.to(e,5+3.5*Math.random(),{x:e.x+-100+Math.random()*T,y:e.y+-100+Math.random()*T,ease:Quad.easeInOut,alpha:.2+.5*Math.random(),onComplete:function(){r(e)}}):e.tween=TweenLite.to(e,.05,{x:e.originX+3*Math.random(),y:e.originY+3*Math.random(),ease:Quad.easeInOut,onComplete:function(){r(e)}})}function l(){for(var e=0,t=p.length;e<t;e++)m[e].originX=x+p[e].x,m[e].originY=y+p[e].y,r(m[e],"in");if(v=!0,p.length<m.length)for(var n=p.length;n<m.length;n++)m[n].tween=TweenLite.to(m[n],.4,{alpha:.1})}function h(){for(var e=0,t=p.length;e<t;e++)r(m[e],"out");if(p.length<m.length)for(var n=p.length;n<m.length;n++)m[n].tween=TweenLite.to(m[n],.4,{alpha:1})}function d(){w.addEventListener("click",function(e){alert("This is blog of ShellHong!")}),s.addEventListener("submit",function(e){e.preventDefault(),v?(h(),""!=f.value?setTimeout(function(){u(f.value.toUpperCase())},810):v=!1):u(f.value.toUpperCase())})}function u(e,t){var n=860/e.length;n>160&&(n=160),t&&(n=t),M.text=e,M.font="900 "+n+"px 'Source Sans Pro'",M.textAlign="center",M.x=I/2,M.y=(172-n)/2,g.addChild(M),g.update();var a=document.getElementById("text").getContext("2d").getImageData(0,0,I,T).data;p=[];for(var o=a.length;o>=0;o-=4)if(0!=a[o]){var i=o/4%I,r=Math.floor(Math.floor(o/I)/4);i&&i%8==0&&r&&r%8==0&&p.push({x:i,y:r})}l()}var c,g,s,f,w,m,p,v,x,y,M,C=["#B2949D","#FFF578","#FF5F8D","#37A9CC","#188EB2"],I=660,T=200;window.onload=function(){e();var t=3,n=setInterval(function(){t>0?(p&&h(),u(new String(t))):(h(),setTimeout(function(){u("WELCOME")},810),clearInterval(n)),t--},1e3)}}();