"use strict";function Typing(t){this.version="1.1",this.source=t.source,this.output=t.output,this.delay=t.delay||120,this.brDelay=t.brDelay||0,this.end=t.end||function(){},this.chain={parent:null,dom:this.output,val:[]}}Typing.fn=Typing.prototype={toArray:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},init:function(){this.chain.val=this.convert(this.source,this.chain.val)},convert:function(t,e){var n=this;return this.toArray(t.childNodes).forEach(function(t){if(3===t.nodeType)e=e.concat(t.nodeValue.split(""));else if(1===t.nodeType){var i=[];i=n.convert(t,i),e.push({dom:t,val:i})}}),e},print:function(t,e,n){setTimeout(function(){t.appendChild(document.createTextNode(e)),n()},this.delay)},play:function(t){if(t)if(!t.val.length&&t.parent&&this.play(t.parent),t.val.length){var e=t.val.shift(),n=this;if("string"==typeof e)this.print(t.dom,e,function(){t.val.length?n.play(t):t.parent?n.play(t.parent):n.end()});else{var i=document.createElement(e.dom.nodeName);n.toArray(e.dom.attributes).forEach(function(t){i.setAttribute(t.name,t.value)}),t.dom.appendChild(i),e.parent=t,e.dom=i,"br"==e.dom.nodeName.toLowerCase()?setTimeout(function(){n.play(e.val.length?e:e.parent)},this.brDelay):this.play(e.val.length?e:e.parent)}}else this.end();else this.end()},start:function(){this.init(),this.play(this.chain)}};